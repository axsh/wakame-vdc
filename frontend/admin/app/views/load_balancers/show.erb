<% content_for :javascript_link_tags do %>
<%= javascript_include_tag ['/assets/moment.min.js',
                            '/assets/admin/models/dcmgr.js',
                            '/assets/admin/collections/detail_collection.js',
                            '/assets/admin/views/detail_view.js',
                            '/assets/admin/controllers/load_balancers/detail_controller.js',
                            '/assets/admin/helpers.js',
] %>
<% end %>

<% content_for :stylesheet_link_tags do %>
<% end %>
    <div class="span9">
      <div id="content"></div>
      <script type="text/template" id="detailLoadBalancer">
      <div class="controls">
        <ul class="breadcrumb">
          <li><a href="/">ホーム</a> <span class="divider">/</span></li>
          <li><a href="/load_balancers">ロードバランサ</a> <span class="divider">/</span></li>
          <li class="active">ID: {{ uuid }}</li>
        </ul>
      </div><!-- controls -->

      <form class="form-detail form-horizontal form-horizontal-fix">
      <div class="control-group">
        <legend>ロードバランサ詳細</legend>
      </div>
      <div class="control-group">
        <label class="control-label">ロードバランサID:</label>
        <div class="controls">
          <p>{{ uuid }}</p>
        </div>
      </div>
      <div class="control-group">
        <label class="control-label">ロードバランサ名:</label>
        <div class="controls">
          <p>{{ display_name }}</p>
        </div>
      </div>
      <div class="control-group">
        <label class="control-label">アカウントID:</label>
        <div class="controls">
          <p>{{ account_id }}</p>
        </div>
      </div>
      <div class="control-group">
        <label class="control-label">インスタンスID</label>
	<div class="controls">
	  <p><a href="/instances/{{ instance_id }}">{{ instance_id }}</a></p>
	</div>
      </div>
      <div class="control-group">
        <label class="control-label">プロトコル</label>
	<div class="controls">
	  <p>{{ protocol }}</p>
	</div>
      </div>
      <div class="control-group">
        <label class="control-label">ポート</label>
	<div class="controls">
	  <p>{{ port }}</p>
	</div>
      </div>
      <div class="control-group">
        <label class="control-label">インスタンスプロトコル</label>
	<div class="controls">
	  <p>{{ instance_protocol }}</p>
	</div>
      </div>
      <div class="control-group">
        <label class="control-label">インスタンスポート</label>
	<div class="controls">
	  <p>{{ instance_port }}</p>
	</div>
      </div>
      <div class="control-group">
        <label class="control-label">バランスアルゴリズム</label>
	<div class="controls">
	  <p>{{ balance_algorithm }}</p>
	</div>
      </div>
      <div class="control-group">
        <label class="control-label">クッキー名</label>
	<div class="controls">
	  <p>{{ cookie_name }}</p>
	</div>
      </div>
      <div class="control-group">
        <label class="control-label">説明</label>
	<div class="controls">
	  <p>{{ description }}</p>
	</div>
      </div>
      <div class="control-group">
        <label class="control-label">プライベートキー</label>
	<div class="controls">
	  <p>{{ private_key }}</p>
	</div>
      </div>
      <div class="control-group">
        <label class="control-label">パブリックキー</label>
	<div class="controls">
	  <p>{{ public_key }}</p>
	</div>
      </div>
      <div class="control-group">
        <label class="control-label">状態</label>
	<div class="controls">
	  <p>{{ state }}</p>
	</div>
      </div>
      <div class="control-group">
        <label class="control-label">IPアドレス</label>
	<div class="controls">
	  <p>
	    {% _.each(vif, function(v){
	         if(! _.isEmpty(v.ipv4)){ %}
		   {{ v.ipv4.address }}</br>
            {%   }
	       }) %}
	  </p>
	</div>
      </div>
      <div class="control-group">
        <label class="control-label">割当インスタンス</label>
	<div class="controls">
	  <p>
	    {% _.each(target_vifs, function(t){
	         if(! _.isEmpty(t.instance_id)){ %}
		   <a href="/instances/{{ t.instance_id }}">{{ t.instance_id }}</a></br>
            {%   }
	       }) %}
	  </p>
	</div>
      </div>
      <div class="control-group">
        <label class="control-label">作成日時:</label>
        <div class="controls">
          <p>{{ app.helpers.date_ja.parse(created_at) }}</p>
        </div>
      </div>
      <div class="control-group">
        <label class="control-label">更新日時:</label>
        <div class="controls">
          <p>{{ app.helpers.date_ja.parse(updated_at) }}</p>
        </div>
      </div>
     </form>
  </script>
</div><!-- span -->
