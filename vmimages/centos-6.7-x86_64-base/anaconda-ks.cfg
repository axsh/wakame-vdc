# Kickstart file automatically generated by anaconda.

# https://www.redhat.com/archives/kickstart-list/2012-July/msg00006.html
# RE: Kickstart option to avoid "Storage Device Warning"
zerombr

#version=DEVEL
install
cdrom
lang en_US.UTF-8
keyboard us
network --onboot yes --device eth0 --bootproto dhcp --noipv6
rootpw  --iscrypted $6$9weikJOz3YcuVV6l$AZngPeCZcN3jOk7iGu6GGdYFwG9fvd2fzWRzSwZV60s57n1frtOgZrGA8GkHl2f0.lMzAhOf.DrldUFvSaaMp/

# http://serverfault.com/questions/340679/centos-6-kickstart-ignoring-selinux-disabled
# (turning off selinux resolved a problem with ssh to root via pubkey)
# https://www.centos.org/forums/viewtopic.php?f=13&t=990&sid=15139e26f965426d5bd1c1af625c1128&start=10
selinux --disabled
firewall --disabled
authconfig --enableshadow --passalgo=sha512
selinux --enforcing
timezone --utc Asia/Tokyo
bootloader --location=mbr --driveorder=vda --append="crashkernel=auto rhgb quiet"
# The following is the partition information you requested
# Note that any partitions you deleted are not expressed
# here so unless you clear all partitions first, this is
# not guaranteed to work
#clearpart --all --drives=vda
#volgroup VolGroup --pesize=4096 pv.253002
#logvol / --fstype=ext4 --name=lv_root --vgname=VolGroup --grow --size=1024 --maxsize=51200
#logvol swap --name=lv_swap --vgname=VolGroup --grow --size=1000 --maxsize=1000

# copied settings that worked with centos7 rather than uncomment the stuff above
part / --fstype="ext4" --ondisk=vda --size=8975
part swap --fstype="swap" --ondisk=vda --size=1024
# Partition clearing information
clearpart --none --initlabel 

# for centos7, shutdown worked, but for centos6 KVM stays running with "halted" on the display
poweroff

#part /boot --fstype=ext4 --size=500
#part pv.253002 --grow --size=1

# https://www.centos.org/forums/viewtopic.php?t=2667
# This above link suggests to comment out the next line:
#repo --name="CentOS"  --baseurl=cdrom:sr0 --cost=100

%packages --nobase
@core
%end